<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <title>cat</title>
  <link rel="stylesheet" href="trends.css">


</head>
<style>
  h1 {
    color: mediumseagreen;
    text-align: center;
    padding-bottom: 30px;
  }

  .classy {
    padding-left: 200px;
  }

  .warning {
    color: red;
    font-weight: bold;
    text-align: center;
  }

  .card {
    margin-left: 500px;
    margin-top: 20px;
    color: white;
  }

  .container {
    padding-top: 40px;
    margin-top: 40px;
    height: 125vh;
    background: #FEDCD2;
    font-weight: bold;
    padding-bottom: 40px;
    border-radius: 15px;
  }

  .navbar {
    margin-bottom: 30px;
  }

  .navbar-nav {
    padding-left: 900px;


  }

  .navbar-nav li {
    padding-left: 10px;
    padding-right: 10px;
  }

  .btn {
    margin-top: 20px;
    margin-left: 20px;
    margin-right: 20px;
  }
</style>




<body style="background:#8FD8D2">
  <!--=======================navbar=====================================================-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">CropWise Companion</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse d-flex float-right" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-flex float-right">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <div class="dropdown">
              <button class="btn btn-dark dropdown-toggle" type="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Recommendation
              </button>
              <ul class="dropdown-menu">
                <li><a class="nav-link active" aria-current="page" href=" http://127.0.0.1:5000/">Crop
                    Recommendation</a></li>
                <li><a class="nav-link active" aria-current="page" href=" http://127.0.0.1:5001">Fertilizer
                    Recommendation</a></li>
              </ul>
            </div>
          </li>


          <li class="nav-item">
            <a class="nav-link active" href="trends.html">Trending crops</a>
          </li>


        </ul>

      </div>
    </div>
  </nav>

  <div id="group" class="got">
    

    <div>
      <p class="txt8" id="findname"></p>
    </div>
    <div>
      <p class="txt8" id="findproof"></p>
    </div>
    <div>
      <p class="txt8" id="findphone"></p>
    </div>
    <div>
      <p class="txt8" id="findadd"></p>
    </div>
    <div>
      <p class="txt8" id="findcrop"></p>
    </div>
    <div>
      <p class="txt8" id="findemail"></p>
    </div>
    



  </div>


  </div>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAfvz-kM1fboD_mOv9-pPuRMZwi8jeviuM",
          authDomain: "ouriot-9cd0c.firebaseapp.com",
          databaseURL: "https://ouriot-9cd0c-default-rtdb.firebaseio.com",
          projectId: "ouriot-9cd0c",
          storageBucket: "ouriot-9cd0c.appspot.com",
          messagingSenderId: "348712288378",
          appId: "1:348712288378:web:42decd55b932c94a96bbc3",
          measurementId: "G-NH51R635WJ"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
     
        import { getDatabase, ref, set, child, update, remove }
            from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

        const db = getDatabase();

        let name = document.getElementById("name");
        let proof = document.getElementById("proof");
        let phone = document.getElementById("phone");
        let address = document.getElementById("address");
        let crop = document.getElementById("crop");
        
        let email = document.getElementById("email")



        let send = document.getElementById("send");

        function InsertData() {
            set(ref(db, 'profile/'+ name.value), {
                name: name.value,
                proof: proof.value,
                phone: phone.value,

                
                address: address.value,
                crop: crop.value,
                

                email: email.value


            })
                .then(() => {
                    alert("data stored successfully");
                })
                .catch((error) => {
                    alert("unsuccessful,error" + error);
                });
        }

        send.addEventListener('click', InsertData);

    var div = document.getElementById('group');
    function FindData(finname,finproof,finphone,finadd,fincrop,finemail) {


      
      let findname = document.createElement('p');
      let findproof = document.createElement('p');
      let findphone = document.createElement('p');
      let findadd = document.createElement('p');
      let findcrop = document.createElement('p');
      let findemail = document.createElement('p');
      
      
      findname.innerHTML = finname;
      findproof.innerHTML = finproof;
      findphone.innerHTML = finphone;
      findadd.innerHTML = finadd;
      findcrop.innerHTML = fincrop;
      findemail.innerHTML = finemail;

      


      

      div.appendChild(findname);
      div.appendChild(findproof);
      div.appendChild(findphone);
      div.appendChild(findadd);
      div.appendChild(findcrop);
      div.appendChild(findemail);
    

    }

    function FetchAllData(profile) {
      div.innerHTML = "";
      profile.forEach(element => {
        FindData(element.name,element.proof,element.phone,element.address,element.crop,element.email);

      });
    }

    function getAllDataOnce() {
      const dbRef = ref(db);
      get(child(dbRef, "profile"))
        .then((snapshot) => {
          var profiles = [];
          snapshot.forEach(childSnapshot => {
            profiles.push(childSnapshot.val());
          });

          FetchAllData(profiles);
        });
    }
    window.onload = getAllDataOnce;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script type="text/javascript">
    (function () {
      emailjs.init("eOzQryYxFD91mS4Ae");
    })();
  </script>

</body>

</html>